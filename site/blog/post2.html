
<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Experimenting with metalsmith.">
<meta name="generator" content="metalsmith">

<title>My Experimental Static Site - Second Post</title>
<style>
nav ul {list-style-type: none;}
</style>


</head>
<body>
<nav aria-label="site">



<ul class="menu">




<li class="menu-item">

<a id="id-blog" href="/blog/index.html">blog</a>
<button class="toggle" aria-haspopup="true" aria-expanded="false" aria-labelledby="id-blog">&darr;</button>





<ul hidden class="menu">


<li>collection: null</li>


</ul>



</li>



<li><a href="/about.html">About</a></li>



<li class="menu-item">

<a id="id-dummy" href="https://www.mit.edu/">dummy</a>
<button class="toggle" aria-haspopup="true" aria-expanded="false" aria-labelledby="id-dummy">&darr;</button>





<ul hidden class="menu">


<li>collection: [{&quot;name&quot;:&quot;action1&quot;,&quot;label&quot;:&quot;do something&quot;},{&quot;name&quot;:&quot;action2&quot;,&quot;label&quot;:&quot;do something else&quot;}]</li>





<li><button class="action" data-action="action1">do something</button></li>





<li><button class="action" data-action="action2">do something else</button></li>




</ul>


</li>


</ul>


</nav>
<main>

<h1>Second Post - My Experimental Static Site</h1>
<p>Experimenting with metalsmith.</p>

<hr>
<p>A super-interesting piece of prose I had already written weeks ago.</p>


<time>Wed Aug 22 2012 20:00:00 GMT-0400 (Eastern Daylight Time)</time>
<p>A super-interesting piece of prose I had already written weeks ago.</p>


</main>
<footer>
<p>--end--</p>
</footer>

<script>
document.querySelector("nav").addEventListener("click", e => {
const trigger = e.target;
if (trigger.matches("[aria-haspopup=true]")) toggleMenu(trigger);
else if (trigger.matches("[data-action]")) trigger.dispatchEvent(new CustomEvent("action", {detail: {name: trigger.dataset.action}, bubbles: true}));

});

document.querySelector("nav").addEventListener("action", e => reportAction(e.detail, e.target));

function toggleMenu (toggler) {
const menu = toggler.nextElementSibling;
toggler.setAttribute("aria-expanded", (menu.hidden = !menu.hidden)?
"false" : "true");
} // toggleMenu

function reportAction (detail, target) {
alert (`got ${detail.name} on ${target}`);
} // reportAction
</script>
</body>

</html>
